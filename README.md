# IslamQA Thai Translator (Local)

**IslamQA Thai Translator** is a web-based tool designed to help Thai speakers access Islamic knowledge from [IslamQA.info](https://islamqa.info). This application allows users to input an English (or other language) IslamQA URL, scrapes the content (Question, Summary, Answer), and automatically translates it into Thai using the Google Translate API.

## üåü Key Features

*   **Smart Scraping**: Automatically extracts the core "Question", "Summary of Answer", and "Detailed Answer" from IslamQA pages.
*   **Smart URL Handling**: 
    *   **Auto-Correction**: Automatically detects and formats long URLs (e.g., `.../answers/123/title`) to the canonical format (`.../answers/123`).
    *   **Validation**: Ensures only valid `islamqa.info` URLs are processed using Regex.
*   **Auto Translation**: Uses Google Apps Script's `LanguageApp` to translate content to Thai seamlessly.
*   **Clean Reading Experience**:
    *   Removes HTML clutter, ads, and unrelated links.
    *   Formats text for readability.
    *   **New**: Improved footer and reference detection to keep the answer section clean.
*   **Modern UI & UX**: 
    *   **Glassmorphism Design**: Beautiful, responsive layout suitable for both desktop and mobile.
    *   **SweetAlert2**: Integrated for beautiful, responsive popup notifications (Success, Error, Warning).
    *   **Clear Button**: Easily clear the input field with a single click.
*   **Quick Copy**: One-click button to copy translated sections (Question, Summary, Answer) to clipboard.

## üõ† Tech Stack

*   **Frontend**:
    *   HTML5 & CSS3 (Custom Glassmorphism + Bootstrap 5)
    *   Vanilla JavaScript (Fetch API)
*   **Backend**:
    *   **Google Apps Script (GAS)**: Acts as a serverless backend and proxy to handle CORS, scraping, and translation.
    *   **Google Translate API**: Built-in service within GAS.

## üöÄ How it Works

1.  **Frontend**: The user enters an IslamQA URL in the web interface.
2.  **Request**: The app sends the URL to the deployed Google Apps Script Web App.
3.  **Backend Processing**:
    *   The GAS script fetches the source HTML from `islamqa.info`.
    *   It uses Regex to identify and extract relevant sections.
    *   It cleans the text (removes HTML tags, decodes entities).
    *   It translates the cleaned text to Thai.
4.  **Response**: The app receives the JSON response containing both original and translated text and displays it.

## üì¶ Installation & Setup

### 1. Setup the Backend (Google Apps Script)

Since this project relies on a backend to handle scraping and translation, you need to deploy your own Google Apps Script.

1.  Go to [Google Apps Script](https://script.google.com/) and create a new project.
2.  Copy the content of `Code.gs` from this project into the script editor.
3.  Save the project.
4.  **Deploy as Web App**:
    *   Click `Deploy` > `New deployment`.
    *   Select type: `Web App`.
    *   Description: `IslamQA Translator API`.
    *   Execute as: `Me` (your email).
    *   **Who has access**: `Anyone`. (Crucial for the frontend to access it).
5.  Copy the **Web App URL** (starts with `https://script.google.com/macros/s/...`).

### 2. Configure the Frontend

1.  Open `script.js` in your local project.
2.  Locate the `CONFIG` object at the top of the file.
3.  Replace the `SCRIPT_URL` with your **Web App URL** from the previous step.

```javascript
const CONFIG = {
    SCRIPT_URL: 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL',
    USE_PROXY: true // Set to true if testing locally to avoid CORS issues
};
```

### 3. Run Locally

Simply open `Index.html` in your browser.

*   *Note: If you run into CORS issues while running purely from a local file (`file://`), ensure `USE_PROXY: true` is set in `script.js`. This routes the request through a CORS proxy.*

## üìù Usage

1.  Find an article on [islamqa.info/en](https://islamqa.info/en).
2.  Copy the URL (e.g., `https://islamqa.info/en/answers/1/interruption-of-wudu`).
3.  Paste it into the input box of the application.
4.  Click **"‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤ (Translate)"**.
5.  Read the translated Question and Answer cards.
6.  Use the copy icon to grab the text if needed.

## ‚ö†Ô∏è Disclaimer

*   This is an unofficial tool and is not affiliated with IslamQA.info.
*   Translations are machine-generated by Google Translate and may not be 100% accurate appropriately for religious rulings. **Always refer to the original English/Arabic text for accuracy.**

## üìÑ License

This project is open-source. Feel free to modify and improve it.
